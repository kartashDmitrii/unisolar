(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=3)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return hideList});class hideList{constructor(listBlock,object={}){if(typeof object.fixHeight!=="undefined"){this.fixHeight=object.fixHeight}if(typeof object.minHeight!=="undefined"){this.minHeight=object.minHeight}this.listBlock=listBlock;this.list=this.listBlock.querySelector("[data-block]");this.listBlock.querySelector("[data-btn]").addEventListener("click",e=>{this.showBlock(e)});if(this.listBlock.querySelector("[data-btn]").classList.contains("active")){this.fixHeight===undefined?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.list.classList.add("active")}if(this.list.querySelector(".close")){this.list.querySelector(".close").addEventListener("click",e=>{this.showBlock(e)})}}showBlock(e){e.preventDefault();let blockHeight=parseInt(window.getComputedStyle(this.list).getPropertyValue("height"));let min;this.minHeight===undefined?min=0:min=this.minHeight;if(blockHeight===min){this.fixHeight===undefined?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.listBlock.querySelector("[data-btn]").classList.add("active");this.list.classList.add("active")}else{this.listBlock.querySelector("[data-btn]").classList.remove("active");this.list.classList.remove("active");this.minHeight===undefined?this.list.style.height="0":this.list.style.height=`${this.minHeight}px`}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return popupFunc});class popupFunc{constructor(button,popup,wrapper=true){this.button=button;this.popup=popup;this.wrapper=wrapper;this.openPopupFunc=this.privateOpenPopup.bind(this);this.closePopupFunc=this.privateClosePopup.bind(this);if(this.button.dataset.stopEvent===undefined){if(Array.isArray(this.button)){this.button.forEach(elem=>{elem.addEventListener("click",this.openPopupFunc)})}else{this.button.addEventListener("click",this.openPopupFunc)}}if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))})}else{this.popup.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))}}privateOpenPopup(event){event.preventDefault();this.openPopup()}privateClosePopup(event){if(!event.target.classList.contains("close")){event.stopPropagation()}else{if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.remove("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}})}else{this.popup.classList.remove("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}}window.removeEventListener("mousedown",this.closePopupFunc)}}openPopup(){document.querySelectorAll(".popup-wrapper>div").forEach(elem=>{elem.classList.remove("active")});document.querySelectorAll(".popup").forEach(elem=>{elem.classList.remove("active")});if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.add("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}});if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}else{console.log(this.popup);this.popup.classList.add("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}window.addEventListener("mousedown",this.closePopupFunc)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return NumberTimer});class NumberTimer{constructor(object){this.elem=object.elem;this.delay=typeof object.delay==="undefined"?1e3:object.delay;this.max=typeof object.max==="undefined"?parseInt(this.elem.innerText):object.max;this.min=typeof object.min==="undefined"?0:object.max;this.type=typeof object.type==="undefined"?"default":object.type;switch(this.type){case"ease-out":this.bezier=[0,0,.58,1];break;case"default":this.bezier=[0];break}this.elem.innerText=0;this.iteration=0;this.step=Math.round(this.delay/(this.max-this.min));this.currBezier=Math.floor(this.iteration/((this.max-this.min)/this.bezier.length));this.offsetElem=this.offset(this.elem);this.startAnimationFunc=this.startAnimation.bind(this);window.addEventListener("scroll",this.startAnimationFunc);this.start=false;let interval=setInterval(()=>{if(this.start){this.step=Math.round(this.delay/(this.max-this.min));this.currBezier=Math.floor(this.iteration/((this.max-this.min)/this.bezier.length));if(this.iteration<this.max-1){this.iteration++;this.elem.innerText=this.iteration}else{this.iteration++;this.elem.innerText=this.iteration;clearInterval(interval)}}},this.step*(this.bezier[this.currBezier]+1))}offset(el){let rect=el.getBoundingClientRect(),scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,scrollTop=window.pageYOffset||document.documentElement.scrollTop;return{top:rect.top+scrollTop,left:rect.left+scrollLeft}}startAnimation(){if(window.scrollY+window.screen.height/2>=this.offsetElem.top){this.start=true;window.removeEventListener("scroll",this.startAnimationFunc)}}}},function(module,exports,__webpack_require__){__webpack_require__(4);__webpack_require__(0);__webpack_require__(2);module.exports=__webpack_require__(1)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_hideList__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _components_NumberTimer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);var _components_popupFunc__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);if(document.querySelector("section.main-slider")){let allSlide=document.querySelector("section.main-slider .slide-number .all");allSlide.innerText=document.querySelectorAll("section.main-slider .slide").length;let swiper=new Swiper("section.main-slider .slider",{loop:true,pagination:{el:"section.main-slider .user-menu .dots",clickable:true,renderBullet:function(index,className){return`<li class="${className}"><span></span></li>`}},breakpoints:{0:{direction:"horizontal"},768:{direction:"vertical"}},on:{init:function(swiper){let currentSlide=document.querySelector("section.main-slider .slide-number .current");currentSlide.innerText=swiper.realIndex+1}}});swiper.on("slideChange",function(swiper){let currentSlide=document.querySelector("section.main-slider .slide-number .current");currentSlide.innerText=swiper.realIndex+1});let goDownBtn=document.querySelector("section.main-slider .go-down");goDownBtn.addEventListener("click",function(e){e.preventDefault();window.scrollTo(0,document.body.scrollHeight)})}if(document.querySelector("section.certificates-slider")){let swiper=new Swiper("section.certificates-slider .slider",{spaceBetween:60,navigation:{nextEl:"section.certificates-slider .navigation .next",prevEl:"section.certificates-slider .navigation .prev"},breakpoints:{0:{slidesPerView:1},681:{slidesPerView:2}}})}if(document.querySelector("section.main-video")){let video=document.querySelector("section.main-video video");let preview=document.querySelector("section.main-video .preview");preview.addEventListener("click",function(){preview.classList.add("hide");video.play()});video.addEventListener("click",function(){preview.classList.remove("hide");video.pause()})}if(document.querySelector("section.questions")){let section=document.querySelector("section.questions");let grid=section.querySelector(".grid");for(let i=0;i<2;i++){let block=document.createElement("div");block.classList.add("block");grid.appendChild(block)}section.querySelectorAll(".elem").forEach((elem,i)=>{[...grid.querySelectorAll(".block")][i%2].appendChild(elem);new _components_hideList__WEBPACK_IMPORTED_MODULE_0__["default"](elem)})}if(document.querySelector("section.partners")){let swiper=new Swiper("section.partners .slider",{breakpoints:{0:{slidesPerView:1.5},421:{slidesPerView:2.5,spaceBetween:10},768:{slidesPerView:3.5},1001:{slidesPerView:4.5},1366:{slidesPerView:5.5},1566:{slidesPerView:5.5,spaceBetween:60}}})}if(document.querySelector("section.seo-text")){let textWrapper=document.querySelector("section.seo-text .text-wrapper");let text=document.querySelector("section.seo-text .text");if(window.screen.width>1024){if(text.scrollHeight<=175){textWrapper.classList.add("no-scroll")}}else if(window.screen.width>681){if(text.scrollHeight<=250){textWrapper.classList.add("no-scroll")}}else{if(text.scrollHeight<=320){textWrapper.classList.add("no-scroll")}}text.addEventListener("scroll",function(){let currPos=text.scrollHeight-text.offsetHeight-text.scrollTop;textWrapper.classList[currPos<20?"add":"remove"]("no-fade")})}if(document.querySelector("[data-popup]")){document.querySelectorAll("[data-popup]").forEach(elem=>{new _components_popupFunc__WEBPACK_IMPORTED_MODULE_2__["default"](elem,document.querySelector(`.popup.${elem.dataset.popup}`))})}if(document.querySelector("section.project-images")){let allImagesSlider=new Swiper("section.project-images .all-images",{freeMode:true,watchSlidesVisibility:true,watchSlidesProgress:true,breakpoints:{0:{slidesPerView:3,slidesPerScroll:3,spaceBetween:10},768:{slidesPerView:3.5,slidesPerScroll:3,spaceBetween:10},1001:{spaceBetween:20,slidesPerView:5,slidesPerScroll:5},1366:{spaceBetween:40,slidesPerView:5.75,slidesPerScroll:5}}});let mainImageSlider=new Swiper("section.project-images .main-image",{spaceBetween:10,navigation:{nextEl:"section.project-images .main-image .next",prevEl:"section.project-images .main-image .prev"},thumbs:{swiper:allImagesSlider}})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJoaWRlTGlzdCIsIltvYmplY3QgT2JqZWN0XSIsImxpc3RCbG9jayIsImZpeEhlaWdodCIsInRoaXMiLCJtaW5IZWlnaHQiLCJsaXN0IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic2hvd0Jsb2NrIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJ1bmRlZmluZWQiLCJzdHlsZSIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsImFkZCIsInByZXZlbnREZWZhdWx0IiwiYmxvY2tIZWlnaHQiLCJwYXJzZUludCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwibWluIiwicmVtb3ZlIiwicG9wdXBGdW5jIiwiYnV0dG9uIiwicG9wdXAiLCJ3cmFwcGVyIiwib3BlblBvcHVwRnVuYyIsInByaXZhdGVPcGVuUG9wdXAiLCJjbG9zZVBvcHVwRnVuYyIsInByaXZhdGVDbG9zZVBvcHVwIiwiZGF0YXNldCIsInN0b3BFdmVudCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJlbGVtIiwicXVlcnlTZWxlY3RvckFsbCIsImV2ZW50Iiwib3BlblBvcHVwIiwidGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwicGFyZW50Tm9kZSIsInNjcmVlbiIsIndpZHRoIiwiZG9jdW1lbnQiLCJib2R5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJsb2ciLCJOdW1iZXJUaW1lciIsImRlbGF5IiwibWF4IiwiaW5uZXJUZXh0IiwidHlwZSIsImJlemllciIsIml0ZXJhdGlvbiIsInN0ZXAiLCJNYXRoIiwicm91bmQiLCJjdXJyQmV6aWVyIiwiZmxvb3IiLCJsZW5ndGgiLCJvZmZzZXRFbGVtIiwib2Zmc2V0Iiwic3RhcnRBbmltYXRpb25GdW5jIiwic3RhcnRBbmltYXRpb24iLCJzdGFydCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiZWwiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic2Nyb2xsTGVmdCIsInBhZ2VYT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwicGFnZVlPZmZzZXQiLCJ0b3AiLCJsZWZ0Iiwic2Nyb2xsWSIsIl9jb21wb25lbnRzX2hpZGVMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfY29tcG9uZW50c19OdW1iZXJUaW1lcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX2NvbXBvbmVudHNfcG9wdXBGdW5jX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJhbGxTbGlkZSIsInN3aXBlciIsIlN3aXBlciIsImxvb3AiLCJwYWdpbmF0aW9uIiwiY2xpY2thYmxlIiwicmVuZGVyQnVsbGV0IiwiaW5kZXgiLCJjbGFzc05hbWUiLCJicmVha3BvaW50cyIsIjAiLCJkaXJlY3Rpb24iLCI3NjgiLCJvbiIsImluaXQiLCJjdXJyZW50U2xpZGUiLCJyZWFsSW5kZXgiLCJnb0Rvd25CdG4iLCJzY3JvbGxUbyIsInNwYWNlQmV0d2VlbiIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJzbGlkZXNQZXJWaWV3IiwiNjgxIiwidmlkZW8iLCJwcmV2aWV3IiwicGxheSIsInBhdXNlIiwic2VjdGlvbiIsImdyaWQiLCJibG9jayIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsIjQyMSIsIjEwMDEiLCIxMzY2IiwiMTU2NiIsInRleHRXcmFwcGVyIiwidGV4dCIsImN1cnJQb3MiLCJvZmZzZXRIZWlnaHQiLCJhbGxJbWFnZXNTbGlkZXIiLCJmcmVlTW9kZSIsIndhdGNoU2xpZGVzVmlzaWJpbGl0eSIsIndhdGNoU2xpZGVzUHJvZ3Jlc3MiLCJzbGlkZXNQZXJTY3JvbGwiLCJtYWluSW1hZ2VTbGlkZXIiLCJ0aHVtYnMiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLFNBRVQsSUFBSUMsaUJBQW1CLEdBR3ZCLFNBQVNDLG9CQUFvQkMsVUFHNUIsR0FBR0YsaUJBQWlCRSxVQUFXLENBQzlCLE9BQU9GLGlCQUFpQkUsVUFBVUMsUUFHbkMsSUFBSUMsT0FBU0osaUJBQWlCRSxVQUFZLENBQ3pDRyxFQUFHSCxTQUNISSxFQUFHLE1BQ0hILFFBQVMsSUFJVkosUUFBUUcsVUFBVUssS0FBS0gsT0FBT0QsUUFBU0MsT0FBUUEsT0FBT0QsUUFBU0YscUJBRy9ERyxPQUFPRSxFQUFJLEtBR1gsT0FBT0YsT0FBT0QsUUFLZkYsb0JBQW9CTyxFQUFJVCxRQUd4QkUsb0JBQW9CUSxFQUFJVCxpQkFHeEJDLG9CQUFvQlMsRUFBSSxTQUFTUCxRQUFTUSxLQUFNQyxRQUMvQyxJQUFJWCxvQkFBb0JZLEVBQUVWLFFBQVNRLE1BQU8sQ0FDekNHLE9BQU9DLGVBQWVaLFFBQVNRLEtBQU0sQ0FBRUssV0FBWSxLQUFNQyxJQUFLTCxXQUtoRVgsb0JBQW9CaUIsRUFBSSxTQUFTZixTQUNoQyxVQUFVZ0IsU0FBVyxhQUFlQSxPQUFPQyxZQUFhLENBQ3ZETixPQUFPQyxlQUFlWixRQUFTZ0IsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlWixRQUFTLGFBQWMsQ0FBRWtCLE1BQU8sUUFR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UU4sWUFJOUgsR0FBSW9CLFNBQVN6QyxjQUFjLDBCQUEwQixDQUNqRCxJQUFJMkgsZ0JBQWtCLElBQUl4QyxPQUFPLHFDQUFzQyxDQUNuRXlDLFNBQVUsS0FDVkMsc0JBQXVCLEtBQ3ZCQyxvQkFBcUIsS0FDckJwQyxZQUFhLENBQ1RDLEVBQUcsQ0FDQ2EsY0FBZSxFQUNmdUIsZ0JBQWlCLEVBQ2pCM0IsYUFBYyxJQUVsQlAsSUFBSyxDQUNEVyxjQUFlLElBQ2Z1QixnQkFBaUIsRUFDakIzQixhQUFjLElBRWxCZ0IsS0FBTSxDQUNGaEIsYUFBYyxHQUNkSSxjQUFlLEVBQ2Z1QixnQkFBaUIsR0FFckJWLEtBQU0sQ0FDRmpCLGFBQWMsR0FDZEksY0FBZSxLQUNmdUIsZ0JBQWlCLE1BSTdCLElBQUlDLGdCQUFrQixJQUFJN0MsT0FBTyxxQ0FBc0MsQ0FDbkVpQixhQUFjLEdBQ2RDLFdBQVksQ0FDUkMsT0FBUSwyQ0FDUkMsT0FBUSw0Q0FFWjBCLE9BQVEsQ0FDSi9DLE9BQVF5QyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBoaWRlTGlzdDsgfSk7XG5jbGFzcyBoaWRlTGlzdHtcclxuICAgIGNvbnN0cnVjdG9yKGxpc3RCbG9jaywgb2JqZWN0ID0ge30pIHtcclxuICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5maXhIZWlnaHQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZml4SGVpZ2h0ID0gb2JqZWN0LmZpeEhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QubWluSGVpZ2h0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB0aGlzLm1pbkhlaWdodCA9IG9iamVjdC5taW5IZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGlzdEJsb2NrID0gbGlzdEJsb2NrO1xyXG4gICAgICAgIHRoaXMubGlzdCA9IHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJsb2NrXScpO1xyXG4gICAgICAgIHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKT0+e3RoaXMuc2hvd0Jsb2NrKGUpfSlcclxuICAgICAgICBpZiAodGhpcy5saXN0QmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtYnRuXScpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgdGhpcy5maXhIZWlnaHQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmxpc3Quc2Nyb2xsSGVpZ2h0fXB4YCA6IHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmZpeEhlaWdodH1weGA7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5saXN0LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZScpKXtcclxuICAgICAgICAgICAgdGhpcy5saXN0LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpPT57dGhpcy5zaG93QmxvY2soZSl9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNob3dCbG9jayhlKXtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgbGV0IGJsb2NrSGVpZ2h0ID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5saXN0KS5nZXRQcm9wZXJ0eVZhbHVlKCdoZWlnaHQnKSk7XHJcbiAgICAgICAgbGV0IG1pbjtcclxuICAgICAgICB0aGlzLm1pbkhlaWdodCA9PT0gdW5kZWZpbmVkID8gbWluID0gMCA6IG1pbiA9IHRoaXMubWluSGVpZ2h0O1xyXG4gICAgICAgIGlmIChibG9ja0hlaWdodCA9PT0gbWluKXtcclxuICAgICAgICAgICAgdGhpcy5maXhIZWlnaHQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmxpc3Quc2Nyb2xsSGVpZ2h0fXB4YCA6IHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmZpeEhlaWdodH1weGA7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0QmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtYnRuXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMubWluSGVpZ2h0ID09PSB1bmRlZmluZWQgPyB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gJzAnIDogdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMubWluSGVpZ2h0fXB4YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwb3B1cEZ1bmM7IH0pO1xuY2xhc3MgcG9wdXBGdW5jIHtcclxuICAgIGNvbnN0cnVjdG9yKGJ1dHRvbixwb3B1cCx3cmFwcGVyID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuYnV0dG9uID0gYnV0dG9uO1xyXG4gICAgICAgIHRoaXMucG9wdXAgPSBwb3B1cDtcclxuICAgICAgICB0aGlzLndyYXBwZXIgPSB3cmFwcGVyO1xyXG4gICAgICAgIHRoaXMub3BlblBvcHVwRnVuYyA9IHRoaXMucHJpdmF0ZU9wZW5Qb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VQb3B1cEZ1bmMgPSB0aGlzLnByaXZhdGVDbG9zZVBvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgaWYodGhpcy5idXR0b24uZGF0YXNldC5zdG9wRXZlbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmJ1dHRvbikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uLmZvckVhY2goZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblBvcHVwRnVuYyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Qb3B1cEZ1bmMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucG9wdXApKXtcclxuICAgICAgICAgICAgdGhpcy5wb3B1cC5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLmNsb3NlJykuZm9yRWFjaChlbGVtID0+IGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlUG9wdXBGdW5jKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLmNsb3NlJykuZm9yRWFjaChlbGVtID0+IGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlUG9wdXBGdW5jKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU9wZW5Qb3B1cChldmVudCl7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLm9wZW5Qb3B1cCgpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZUNsb3NlUG9wdXAoZXZlbnQpe1xyXG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UnKSl7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucG9wdXApKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3B1cC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5jbG9zZVBvcHVwRnVuYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb3BlblBvcHVwKCl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwLXdyYXBwZXI+ZGl2JykuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9KTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAnKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucG9wdXApKXtcclxuICAgICAgICAgICAgdGhpcy5wb3B1cC5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wb3B1cClcclxuICAgICAgICAgICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5jbG9zZVBvcHVwRnVuYyk7XHJcbiAgICB9XHJcbn1cblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBOdW1iZXJUaW1lcjsgfSk7XG5jbGFzcyBOdW1iZXJUaW1lciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvYmplY3QpIHtcclxuICAgICAgICB0aGlzLmVsZW0gPSBvYmplY3QuZWxlbTtcclxuICAgICAgICB0aGlzLmRlbGF5ID0gdHlwZW9mIG9iamVjdC5kZWxheSA9PT0gXCJ1bmRlZmluZWRcIiA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDEwMDAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZGVsYXk7XHJcbiAgICAgICAgdGhpcy5tYXggPSB0eXBlb2Ygb2JqZWN0Lm1heCA9PT0gXCJ1bmRlZmluZWRcIiA/XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQodGhpcy5lbGVtLmlubmVyVGV4dCkgOlxyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5tYXg7XHJcbiAgICAgICAgdGhpcy5taW4gPSB0eXBlb2Ygb2JqZWN0Lm1pbiA9PT0gXCJ1bmRlZmluZWRcIiA/XHJcbiAgICAgICAgICAgICAgICAgICAgMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1heDtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlb2Ygb2JqZWN0LnR5cGUgPT09IFwidW5kZWZpbmVkXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCcgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudHlwZTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZWFzZS1vdXRcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmV6aWVyID0gWzAsMCwwLjU4LDFdO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJlemllciA9IFswXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVsZW0uaW5uZXJUZXh0ID0gMDtcclxuICAgICAgICB0aGlzLml0ZXJhdGlvbiA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGVwID0gTWF0aC5yb3VuZCh0aGlzLmRlbGF5IC8gKHRoaXMubWF4IC0gdGhpcy5taW4pKTtcclxuICAgICAgICB0aGlzLmN1cnJCZXppZXIgPSBNYXRoLmZsb29yKHRoaXMuaXRlcmF0aW9uIC8gKCh0aGlzLm1heCAtIHRoaXMubWluKSAvIHRoaXMuYmV6aWVyLmxlbmd0aCApKTtcclxuICAgICAgICB0aGlzLm9mZnNldEVsZW0gPSB0aGlzLm9mZnNldCh0aGlzLmVsZW0pO1xyXG4gICAgICAgIHRoaXMuc3RhcnRBbmltYXRpb25GdW5jID0gdGhpcy5zdGFydEFuaW1hdGlvbi5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnN0YXJ0QW5pbWF0aW9uRnVuYyk7XHJcbiAgICAgICAgdGhpcy5zdGFydCA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBpbnRlcnZhbCA9IHNldEludGVydmFsKCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0KXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RlcCA9IE1hdGgucm91bmQodGhpcy5kZWxheSAvICh0aGlzLm1heCAtIHRoaXMubWluKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJCZXppZXIgPSBNYXRoLmZsb29yKHRoaXMuaXRlcmF0aW9uIC8gKCh0aGlzLm1heCAtIHRoaXMubWluKSAvIHRoaXMuYmV6aWVyLmxlbmd0aCApKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLml0ZXJhdGlvbiA8IHRoaXMubWF4IC0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVyYXRpb24rKztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW0uaW5uZXJUZXh0ID0gdGhpcy5pdGVyYXRpb247XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlcmF0aW9uKys7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtLmlubmVyVGV4dCA9IHRoaXMuaXRlcmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0aGlzLnN0ZXAgKiAodGhpcy5iZXppZXJbdGhpcy5jdXJyQmV6aWVyXSArIDEpICk7XHJcbiAgICB9XHJcbiAgICBvZmZzZXQoZWwpe1xyXG4gICAgICAgIGxldCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXHJcbiAgICAgICAgICAgIHNjcm9sbExlZnQgPSB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsXHJcbiAgICAgICAgICAgIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgIHJldHVybiB7IHRvcDogcmVjdC50b3AgKyBzY3JvbGxUb3AsIGxlZnQ6IHJlY3QubGVmdCArIHNjcm9sbExlZnQgfVxyXG4gICAgfVxyXG4gICAgc3RhcnRBbmltYXRpb24oKXtcclxuICAgICAgICBpZiAod2luZG93LnNjcm9sbFkgKyAod2luZG93LnNjcmVlbi5oZWlnaHQgLyAyKSA+PSB0aGlzLm9mZnNldEVsZW0udG9wKXtcclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IHRydWU7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnN0YXJ0QW5pbWF0aW9uRnVuYylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfaGlkZUxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfTnVtYmVyVGltZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfcG9wdXBGdW5jX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHJcblxyXG5cclxuXHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5tYWluLXNsaWRlcicpKXtcclxuICAgIGxldCBhbGxTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ubWFpbi1zbGlkZXIgLnNsaWRlLW51bWJlciAuYWxsJyk7XHJcbiAgICBhbGxTbGlkZS5pbm5lclRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLm1haW4tc2xpZGVyIC5zbGlkZScpLmxlbmd0aDtcclxuXHJcbiAgICBsZXQgc3dpcGVyID0gbmV3IFN3aXBlcignc2VjdGlvbi5tYWluLXNsaWRlciAuc2xpZGVyJywge1xyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgICAgICBlbDogXCJzZWN0aW9uLm1haW4tc2xpZGVyIC51c2VyLW1lbnUgLmRvdHNcIixcclxuICAgICAgICAgICAgY2xpY2thYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICByZW5kZXJCdWxsZXQ6IGZ1bmN0aW9uIChpbmRleCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxsaSBjbGFzcz1cIiR7Y2xhc3NOYW1lfVwiPjxzcGFuPjwvc3Bhbj48L2xpPmBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICAgICAgMDoge1xyXG4gICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDc2ODoge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uOiB7XHJcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uIChzd2lwZXIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLm1haW4tc2xpZGVyIC5zbGlkZS1udW1iZXIgLmN1cnJlbnQnKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTbGlkZS5pbm5lclRleHQgPSBzd2lwZXIucmVhbEluZGV4ICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgc3dpcGVyLm9uKCdzbGlkZUNoYW5nZScsIGZ1bmN0aW9uIChzd2lwZXIpIHtcclxuICAgICAgICBsZXQgY3VycmVudFNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5tYWluLXNsaWRlciAuc2xpZGUtbnVtYmVyIC5jdXJyZW50Jyk7XHJcbiAgICAgICAgY3VycmVudFNsaWRlLmlubmVyVGV4dCA9IHN3aXBlci5yZWFsSW5kZXggKyAxO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGdvRG93bkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ubWFpbi1zbGlkZXIgLmdvLWRvd24nKTtcclxuICAgIGdvRG93bkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KTtcclxuICAgIH0pXHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uY2VydGlmaWNhdGVzLXNsaWRlcicpKXtcclxuICAgIGxldCBzd2lwZXIgPSBuZXcgU3dpcGVyKCdzZWN0aW9uLmNlcnRpZmljYXRlcy1zbGlkZXIgLnNsaWRlcicsIHtcclxuICAgICAgICBzcGFjZUJldHdlZW46IDYwLFxyXG4gICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgbmV4dEVsOiBcInNlY3Rpb24uY2VydGlmaWNhdGVzLXNsaWRlciAubmF2aWdhdGlvbiAubmV4dFwiLFxyXG4gICAgICAgICAgICBwcmV2RWw6IFwic2VjdGlvbi5jZXJ0aWZpY2F0ZXMtc2xpZGVyIC5uYXZpZ2F0aW9uIC5wcmV2XCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAwOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDY4MToge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLm1haW4tdmlkZW8nKSl7XHJcbiAgICBsZXQgdmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLm1haW4tdmlkZW8gdmlkZW8nKTtcclxuICAgIGxldCBwcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5tYWluLXZpZGVvIC5wcmV2aWV3Jyk7XHJcblxyXG4gICAgcHJldmlldy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwcmV2aWV3LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcclxuICAgICAgICB2aWRlby5wbGF5KClcclxuICAgIH0pO1xyXG4gICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcHJldmlldy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XHJcbiAgICAgICAgdmlkZW8ucGF1c2UoKVxyXG4gICAgfSlcclxufVxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ucXVlc3Rpb25zJykpe1xyXG4gICAgbGV0IHNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnF1ZXN0aW9ucycpO1xyXG4gICAgbGV0IGdyaWQgPSBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5ncmlkJyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKyl7XHJcbiAgICAgICAgbGV0IGJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgYmxvY2suY2xhc3NMaXN0LmFkZCgnYmxvY2snKTtcclxuICAgICAgICBncmlkLmFwcGVuZENoaWxkKGJsb2NrKTtcclxuICAgIH1cclxuICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnLmVsZW0nKS5mb3JFYWNoKCAoZWxlbSwgaSkgPT4ge1xyXG4gICAgICAgIFsuLi5ncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ibG9jaycpXVtpICUgMl0uYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICAgICAgbmV3IF9jb21wb25lbnRzX2hpZGVMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKGVsZW0pXHJcbiAgICB9KVxyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnBhcnRuZXJzJykpe1xyXG4gICAgbGV0IHN3aXBlciA9IG5ldyBTd2lwZXIoJ3NlY3Rpb24ucGFydG5lcnMgLnNsaWRlcicsIHtcclxuICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAwOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLjUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDQyMToge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMi41LFxyXG4gICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA3Njg6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMuNVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAxMDAxOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LjVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgMTM2Njoge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNS41XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDE1NjY6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDUuNSxcclxuICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogNjAsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5zZW8tdGV4dCcpKXtcclxuICAgIGxldCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uc2VvLXRleHQgLnRleHQtd3JhcHBlcicpO1xyXG4gICAgbGV0IHRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnNlby10ZXh0IC50ZXh0Jyk7XHJcbiAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA+IDEwMjQpe1xyXG4gICAgICAgIGlmICh0ZXh0LnNjcm9sbEhlaWdodCA8PSAxNzUpIHtcclxuICAgICAgICAgICAgdGV4dFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbm8tc2Nyb2xsJylcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPiA2ODEpe1xyXG4gICAgICAgIGlmICh0ZXh0LnNjcm9sbEhlaWdodCA8PSAyNTApIHtcclxuICAgICAgICAgICAgdGV4dFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbm8tc2Nyb2xsJylcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh0ZXh0LnNjcm9sbEhlaWdodCA8PSAzMjApIHtcclxuICAgICAgICAgICAgdGV4dFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbm8tc2Nyb2xsJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB0ZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgY3VyclBvcyA9IHRleHQuc2Nyb2xsSGVpZ2h0IC0gdGV4dC5vZmZzZXRIZWlnaHQgLSB0ZXh0LnNjcm9sbFRvcDtcclxuICAgICAgICB0ZXh0V3JhcHBlci5jbGFzc0xpc3RbY3VyclBvcyA8IDIwID8gJ2FkZCcgOiAncmVtb3ZlJ10oJ25vLWZhZGUnKVxyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcG9wdXBdJykpe1xyXG5cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBvcHVwXScpLmZvckVhY2goIGVsZW0gPT57XHJcbiAgICAgICAgbmV3IF9jb21wb25lbnRzX3BvcHVwRnVuY19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXShlbGVtLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucG9wdXAuJHtlbGVtLmRhdGFzZXQucG9wdXB9YCkpXHJcbiAgICB9KVxyXG59XHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5wcm9qZWN0LWltYWdlcycpKXtcclxuICAgIGxldCBhbGxJbWFnZXNTbGlkZXIgPSBuZXcgU3dpcGVyKCdzZWN0aW9uLnByb2plY3QtaW1hZ2VzIC5hbGwtaW1hZ2VzJywge1xyXG4gICAgICAgIGZyZWVNb2RlOiB0cnVlLFxyXG4gICAgICAgIHdhdGNoU2xpZGVzVmlzaWJpbGl0eTogdHJ1ZSxcclxuICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxyXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgIDA6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJTY3JvbGw6IDMsXHJcbiAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDEwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA3Njg6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMuNSxcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclNjcm9sbDogMyxcclxuICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDEwMDE6IHtcclxuICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA1LFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyU2Nyb2xsOiA1LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAxMzY2OiB7XHJcbiAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDQwLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNS43NSxcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclNjcm9sbDogNSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgbGV0IG1haW5JbWFnZVNsaWRlciA9IG5ldyBTd2lwZXIoJ3NlY3Rpb24ucHJvamVjdC1pbWFnZXMgLm1haW4taW1hZ2UnLCB7XHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgIG5leHRFbDogJ3NlY3Rpb24ucHJvamVjdC1pbWFnZXMgLm1haW4taW1hZ2UgLm5leHQnLFxyXG4gICAgICAgICAgICBwcmV2RWw6ICdzZWN0aW9uLnByb2plY3QtaW1hZ2VzIC5tYWluLWltYWdlIC5wcmV2JyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRodW1iczoge1xyXG4gICAgICAgICAgICBzd2lwZXI6IGFsbEltYWdlc1NsaWRlclxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pOyJdLCJmaWxlIjoibWFpbi1taW4uanMifQ==

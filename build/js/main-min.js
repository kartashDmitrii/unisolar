(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=3)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return hideList});class hideList{constructor(listBlock,object={}){if(typeof object.fixHeight!=="undefined"){this.fixHeight=object.fixHeight}if(typeof object.minHeight!=="undefined"){this.minHeight=object.minHeight}this.listBlock=listBlock;this.list=this.listBlock.querySelector("[data-block]");this.listBlock.querySelector("[data-btn]").addEventListener("click",e=>{this.showBlock(e)});if(this.listBlock.querySelector("[data-btn]").classList.contains("active")){this.fixHeight===undefined?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.list.classList.add("active")}if(this.list.querySelector(".close")){this.list.querySelector(".close").addEventListener("click",e=>{this.showBlock(e)})}}showBlock(e){e.preventDefault();let blockHeight=parseInt(window.getComputedStyle(this.list).getPropertyValue("height"));let min;this.minHeight===undefined?min=0:min=this.minHeight;if(blockHeight===min){this.fixHeight===undefined?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.listBlock.querySelector("[data-btn]").classList.add("active");this.list.classList.add("active")}else{this.listBlock.querySelector("[data-btn]").classList.remove("active");this.list.classList.remove("active");this.minHeight===undefined?this.list.style.height="0":this.list.style.height=`${this.minHeight}px`}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return popupFunc});class popupFunc{constructor(button,popup,wrapper=true){this.button=button;this.popup=popup;this.wrapper=wrapper;this.openPopupFunc=this.privateOpenPopup.bind(this);this.closePopupFunc=this.privateClosePopup.bind(this);if(this.button.dataset.stopEvent===undefined){if(Array.isArray(this.button)){this.button.forEach(elem=>{elem.addEventListener("click",this.openPopupFunc)})}else{this.button.addEventListener("click",this.openPopupFunc)}}if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))})}else{this.popup.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))}}privateOpenPopup(event){event.preventDefault();this.openPopup()}privateClosePopup(event){if(!event.target.classList.contains("close")){event.stopPropagation()}else{if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.remove("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}})}else{this.popup.classList.remove("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}}window.removeEventListener("mousedown",this.closePopupFunc)}}openPopup(){document.querySelectorAll(".popup-wrapper>div").forEach(elem=>{elem.classList.remove("active")});document.querySelectorAll(".popup").forEach(elem=>{elem.classList.remove("active")});if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.add("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}});if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}else{console.log(this.popup);this.popup.classList.add("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}window.addEventListener("mousedown",this.closePopupFunc)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return NumberTimer});class NumberTimer{constructor(object){this.elem=object.elem;this.delay=typeof object.delay==="undefined"?1e3:object.delay;this.max=typeof object.max==="undefined"?parseInt(this.elem.innerText):object.max;this.min=typeof object.min==="undefined"?0:object.max;this.type=typeof object.type==="undefined"?"default":object.type;switch(this.type){case"ease-out":this.bezier=[0,0,.58,1];break;case"default":this.bezier=[0];break}this.elem.innerText=0;this.iteration=0;this.step=Math.round(this.delay/(this.max-this.min));this.currBezier=Math.floor(this.iteration/((this.max-this.min)/this.bezier.length));this.offsetElem=this.offset(this.elem);this.startAnimationFunc=this.startAnimation.bind(this);window.addEventListener("scroll",this.startAnimationFunc);this.start=false;let interval=setInterval(()=>{if(this.start){this.step=Math.round(this.delay/(this.max-this.min));this.currBezier=Math.floor(this.iteration/((this.max-this.min)/this.bezier.length));if(this.iteration<this.max-1){this.iteration++;this.elem.innerText=this.iteration}else{this.iteration++;this.elem.innerText=this.iteration;clearInterval(interval)}}},this.step*(this.bezier[this.currBezier]+1))}offset(el){let rect=el.getBoundingClientRect(),scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,scrollTop=window.pageYOffset||document.documentElement.scrollTop;return{top:rect.top+scrollTop,left:rect.left+scrollLeft}}startAnimation(){if(window.scrollY+window.screen.height/2>=this.offsetElem.top){this.start=true;window.removeEventListener("scroll",this.startAnimationFunc)}}}},function(module,exports,__webpack_require__){__webpack_require__(4);__webpack_require__(2);__webpack_require__(0);module.exports=__webpack_require__(1)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_hideList__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _components_NumberTimer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);var _components_popupFunc__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);if(document.querySelector("header")){let header=document.querySelector("header");let isBlack=header.classList.contains("black");let scrollNumber=70;let colorSwitch=true;document.addEventListener("scroll",function(){header.classList[window.scrollY>scrollNumber?"add":"remove"]("scroll");document.body.classList[window.scrollY>scrollNumber?"add":"remove"]("scroll");document.querySelector(".header-menu-popup").classList[window.scrollY>scrollNumber?"add":"remove"]("scroll");if(!isBlack){header.classList[window.scrollY>scrollNumber?"add":"remove"]("black");if(window.scrollY>scrollNumber){if(colorSwitch){colorSwitch=false;header.querySelectorAll(".burger img").forEach(img=>img.classList.toggle("show"));header.querySelectorAll(".logo img").forEach(img=>img.classList.toggle("show"))}}else{if(!colorSwitch){colorSwitch=true;header.querySelectorAll(".burger img").forEach(img=>img.classList.toggle("show"));header.querySelectorAll(".logo img").forEach(img=>img.classList.toggle("show"))}}}if(window.scrollY>scrollNumber){document.body.style.paddingTop=isBlack?"137px":"97px"}else{document.body.style.paddingTop="0px"}})}if(document.querySelector("section.main-slider")){let allSlide=document.querySelector("section.main-slider .slide-number .all");allSlide.innerText=document.querySelectorAll("section.main-slider .slide").length;let swiper=new Swiper("section.main-slider .slider",{loop:true,pagination:{el:"section.main-slider .user-menu .dots",clickable:true,renderBullet:function(index,className){return`<li class="${className}"><span></span></li>`}},breakpoints:{0:{direction:"horizontal"},768:{direction:"vertical"}},on:{init:function(swiper){let currentSlide=document.querySelector("section.main-slider .slide-number .current");currentSlide.innerText=swiper.realIndex+1}}});swiper.on("slideChange",function(swiper){let currentSlide=document.querySelector("section.main-slider .slide-number .current");currentSlide.innerText=swiper.realIndex+1});let goDownBtn=document.querySelector("section.main-slider .go-down");goDownBtn.addEventListener("click",function(e){e.preventDefault();window.scrollTo(0,document.body.scrollHeight)})}if(document.querySelector("section.certificates-slider")){let swiper=new Swiper("section.certificates-slider .slider",{spaceBetween:60,navigation:{nextEl:"section.certificates-slider .navigation .next",prevEl:"section.certificates-slider .navigation .prev"},breakpoints:{0:{slidesPerView:1},681:{slidesPerView:2}}})}if(document.querySelector("section.main-video")){let video=document.querySelector("section.main-video video");let preview=document.querySelector("section.main-video .preview");preview.addEventListener("click",function(){preview.classList.add("hide");video.play()});video.addEventListener("click",function(){preview.classList.remove("hide");video.pause()})}if(document.querySelector("section.questions-grid")){let section=document.querySelector("section.questions-grid");let grid=section.querySelector(".grid");for(let i=0;i<2;i++){let block=document.createElement("div");block.classList.add("block");grid.appendChild(block)}section.querySelectorAll(".elem").forEach((elem,i)=>{[...grid.querySelectorAll(".block")][i%2].appendChild(elem);if(section.classList.contains("questions")){new _components_hideList__WEBPACK_IMPORTED_MODULE_0__["default"](elem)}})}if(document.querySelector("section.partners")){let swiper=new Swiper("section.partners .slider",{breakpoints:{0:{slidesPerView:1.5},421:{slidesPerView:2.5,spaceBetween:10},768:{slidesPerView:3.5},1001:{slidesPerView:4.5},1366:{slidesPerView:5.5},1566:{slidesPerView:5.5,spaceBetween:60}}})}if(document.querySelector("section.seo-text")){let textWrapper=document.querySelector("section.seo-text .text-wrapper");let text=document.querySelector("section.seo-text .text");if(window.screen.width>1024){if(text.scrollHeight<=175){textWrapper.classList.add("no-scroll")}}else if(window.screen.width>681){if(text.scrollHeight<=250){textWrapper.classList.add("no-scroll")}}else{if(text.scrollHeight<=320){textWrapper.classList.add("no-scroll")}}text.addEventListener("scroll",function(){let currPos=text.scrollHeight-text.offsetHeight-text.scrollTop;textWrapper.classList[currPos<20?"add":"remove"]("no-fade")})}if(document.querySelector("[data-popup]")){document.querySelectorAll("[data-popup]").forEach(elem=>{new _components_popupFunc__WEBPACK_IMPORTED_MODULE_2__["default"](elem,document.querySelector(`.popup.${elem.dataset.popup}`))})}if(document.querySelector("section.project-images")){let allImagesSlider=new Swiper("section.project-images .all-images",{freeMode:true,watchSlidesVisibility:true,watchSlidesProgress:true,breakpoints:{0:{slidesPerView:3,slidesPerScroll:3,spaceBetween:10},768:{slidesPerView:3.5,slidesPerScroll:3,spaceBetween:10},1001:{spaceBetween:20,slidesPerView:5,slidesPerScroll:5},1366:{spaceBetween:40,slidesPerView:5.75,slidesPerScroll:5}}});let mainImageSlider=new Swiper("section.project-images .main-image",{spaceBetween:10,navigation:{nextEl:"section.project-images .main-image .next",prevEl:"section.project-images .main-image .prev"},thumbs:{swiper:allImagesSlider}})}if(document.querySelector("section.year-slider")){let yearsSlider=new Swiper("section.year-slider .years .year",{allowTouchMove:false,navigation:{nextEl:"section.year-slider .navigation .next",prevEl:"section.year-slider .navigation .prev"}});let dataSlider=new Swiper("section.year-slider .data-slider",{navigation:{nextEl:"section.year-slider .navigation .next",prevEl:"section.year-slider .navigation .prev"},on:{activeIndexChange(){yearsSlider.slideTo(dataSlider.activeIndex)}}})}if(document.querySelector("section.academy-reviews")){let slider=new Swiper("section.academy-reviews .slider",{navigation:{nextEl:"section.academy-reviews .navigation .next",prevEl:"section.academy-reviews .navigation .prev"}})}if(document.querySelector("section.who-need-b2b")){let tabBtns=document.querySelectorAll("section.who-need-b2b .tab-buttons [data-tab]");let tabs=document.querySelectorAll("section.who-need-b2b .tabs [data-tab]");tabBtns.forEach(elem=>{elem.addEventListener("click",function(){tabBtns.forEach(btn=>btn.classList.remove("active"));tabs.forEach(tab=>tab.classList.remove("active"));elem.classList.add("active");[...tabs].find(tab=>tab.dataset.tab===elem.dataset.tab).classList.add("active")})})}if(document.querySelector("section.b2b-realization")){let slider=new Swiper("section.b2b-realization .slider",{pagination:{el:"section.b2b-realization .slider-pagination",clickable:true,renderBullet(index,className){return`<span class="${className}">${index+1}</span>`}},navigation:{nextEl:"section.b2b-realization .slider-navigation .next",prevEl:"section.b2b-realization .slider-navigation .prev"}})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJoaWRlTGlzdCIsIltvYmplY3QgT2JqZWN0XSIsImxpc3RCbG9jayIsImZpeEhlaWdodCIsInRoaXMiLCJtaW5IZWlnaHQiLCJsaXN0IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic2hvd0Jsb2NrIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJ1bmRlZmluZWQiLCJzdHlsZSIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsImFkZCIsInByZXZlbnREZWZhdWx0IiwiYmxvY2tIZWlnaHQiLCJwYXJzZUludCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwibWluIiwicmVtb3ZlIiwicG9wdXBGdW5jIiwiYnV0dG9uIiwicG9wdXAiLCJ3cmFwcGVyIiwib3BlblBvcHVwRnVuYyIsInByaXZhdGVPcGVuUG9wdXAiLCJjbG9zZVBvcHVwRnVuYyIsInByaXZhdGVDbG9zZVBvcHVwIiwiZGF0YXNldCIsInN0b3BFdmVudCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJlbGVtIiwicXVlcnlTZWxlY3RvckFsbCIsImV2ZW50Iiwib3BlblBvcHVwIiwidGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwicGFyZW50Tm9kZSIsInNjcmVlbiIsIndpZHRoIiwiZG9jdW1lbnQiLCJib2R5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJsb2ciLCJOdW1iZXJUaW1lciIsImRlbGF5IiwibWF4IiwiaW5uZXJUZXh0IiwidHlwZSIsImJlemllciIsIml0ZXJhdGlvbiIsInN0ZXAiLCJNYXRoIiwicm91bmQiLCJjdXJyQmV6aWVyIiwiZmxvb3IiLCJsZW5ndGgiLCJvZmZzZXRFbGVtIiwib2Zmc2V0Iiwic3RhcnRBbmltYXRpb25GdW5jIiwic3RhcnRBbmltYXRpb24iLCJzdGFydCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiZWwiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic2Nyb2xsTGVmdCIsInBhZ2VYT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwicGFnZVlPZmZzZXQiLCJ0b3AiLCJsZWZ0Iiwic2Nyb2xsWSIsIl9jb21wb25lbnRzX2hpZGVMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfY29tcG9uZW50c19OdW1iZXJUaW1lcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX2NvbXBvbmVudHNfcG9wdXBGdW5jX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJoZWFkZXIiLCJpc0JsYWNrIiwic2Nyb2xsTnVtYmVyIiwiY29sb3JTd2l0Y2giLCJpbWciLCJ0b2dnbGUiLCJwYWRkaW5nVG9wIiwiYWxsU2xpZGUiLCJzd2lwZXIiLCJTd2lwZXIiLCJsb29wIiwicGFnaW5hdGlvbiIsImNsaWNrYWJsZSIsInJlbmRlckJ1bGxldCIsImluZGV4IiwiY2xhc3NOYW1lIiwiYnJlYWtwb2ludHMiLCIwIiwiZGlyZWN0aW9uIiwiNzY4Iiwib24iLCJpbml0IiwiY3VycmVudFNsaWRlIiwicmVhbEluZGV4IiwiZ29Eb3duQnRuIiwic2Nyb2xsVG8iLCJzcGFjZUJldHdlZW4iLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwic2xpZGVzUGVyVmlldyIsIjY4MSIsInZpZGVvIiwicHJldmlldyIsInBsYXkiLCJwYXVzZSIsInNlY3Rpb24iLCJncmlkIiwiYmxvY2siLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCI0MjEiLCIxMDAxIiwiMTM2NiIsIjE1NjYiLCJ0ZXh0V3JhcHBlciIsInRleHQiLCJjdXJyUG9zIiwib2Zmc2V0SGVpZ2h0IiwiYWxsSW1hZ2VzU2xpZGVyIiwiZnJlZU1vZGUiLCJ3YXRjaFNsaWRlc1Zpc2liaWxpdHkiLCJ3YXRjaFNsaWRlc1Byb2dyZXNzIiwic2xpZGVzUGVyU2Nyb2xsIiwibWFpbkltYWdlU2xpZGVyIiwidGh1bWJzIiwieWVhcnNTbGlkZXIiLCJhbGxvd1RvdWNoTW92ZSIsImRhdGFTbGlkZXIiLCJzbGlkZVRvIiwiYWN0aXZlSW5kZXgiLCJzbGlkZXIiLCJ0YWJCdG5zIiwidGFicyIsImJ0biIsInRhYiIsImZpbmQiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLFNBRVQsSUFBSUMsaUJBQW1CLEdBR3ZCLFNBQVNDLG9CQUFvQkMsVUFHNUIsR0FBR0YsaUJBQWlCRSxVQUFXLENBQzlCLE9BQU9GLGlCQUFpQkUsVUFBVUMsUUFHbkMsSUFBSUMsT0FBU0osaUJBQWlCRSxVQUFZLENBQ3pDRyxFQUFHSCxTQUNISSxFQUFHLE1BQ0hILFFBQVMsSUFJVkosUUFBUUcsVUFBVUssS0FBS0gsT0FBT0QsUUFBU0MsT0FBUUEsT0FBT0QsUUFBU0YscUJBRy9ERyxPQUFPRSxFQUFJLEtBR1gsT0FBT0YsT0FBT0QsUUFLZkYsb0JBQW9CTyxFQUFJVCxRQUd4QkUsb0JBQW9CUSxFQUFJVCxpQkFHeEJDLG9CQUFvQlMsRUFBSSxTQUFTUCxRQUFTUSxLQUFNQyxRQUMvQyxJQUFJWCxvQkFBb0JZLEVBQUVWLFFBQVNRLE1BQU8sQ0FDekNHLE9BQU9DLGVBQWVa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LENBQ3ZEa0IsV0FBWSxDQUNSQyxPQUFRLDRDQUNSQyxPQUFRLCtDQUlwQixHQUFJckUsU0FBU3pDLGNBQWMsd0JBQXdCLENBQy9DLElBQUkrSSxRQUFVdEcsU0FBU1IsaUJBQWlCLGdEQUN4QyxJQUFJK0csS0FBT3ZHLFNBQVNSLGlCQUFpQix5Q0FDckM4RyxRQUFRaEgsUUFBVUMsT0FDZEEsS0FBSy9CLGlCQUFpQixRQUFTLFdBQzNCOEksUUFBUWhILFFBQVNrSCxLQUFPQSxJQUFJN0ksVUFBVWMsT0FBTyxXQUM3QzhILEtBQUtqSCxRQUFTbUgsS0FBT0EsSUFBSTlJLFVBQVVjLE9BQU8sV0FFMUNjLEtBQUs1QixVQUFVTSxJQUFJLFVBQ25CLElBQUlzSSxNQUFNRyxLQUFNRCxLQUFPQSxJQUFJdkgsUUFBUXVILE1BQVFsSCxLQUFLTCxRQUFRdUgsS0FBSzlJLFVBQVVNLElBQUksY0FJdkYsR0FBSStCLFNBQVN6QyxjQUFjLDJCQUE0QixDQUNuRCxJQUFJOEksT0FBUyxJQUFJcEQsT0FBTyxrQ0FBa0MsQ0FDdERFLFdBQVksQ0FDUnpCLEdBQUksNkNBQ0owQixVQUFXLEtBQ1huRyxhQUFhcUcsTUFBT0MsV0FDaEIsc0JBQXVCQSxjQUFjRCxNQUFRLGFBR3JEYSxXQUFZLENBQ1JDLE9BQVEsbURBQ1JDLE9BQVEiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLyoqKioqKi8gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbnM7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaGlkZUxpc3Q7IH0pO1xuY2xhc3MgaGlkZUxpc3R7XHJcbiAgICBjb25zdHJ1Y3RvcihsaXN0QmxvY2ssIG9iamVjdCA9IHt9KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuZml4SGVpZ2h0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB0aGlzLmZpeEhlaWdodCA9IG9iamVjdC5maXhIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0Lm1pbkhlaWdodCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5taW5IZWlnaHQgPSBvYmplY3QubWluSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxpc3RCbG9jayA9IGxpc3RCbG9jaztcclxuICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja10nKTtcclxuICAgICAgICB0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1idG5dJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9Pnt0aGlzLnNob3dCbG9jayhlKX0pXHJcbiAgICAgICAgaWYgKHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZml4SGVpZ2h0ID09PSB1bmRlZmluZWQgPyB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5saXN0LnNjcm9sbEhlaWdodH1weGAgOiB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5maXhIZWlnaHR9cHhgO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubGlzdC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKSl7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKT0+e3RoaXMuc2hvd0Jsb2NrKGUpfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzaG93QmxvY2soZSl7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGxldCBibG9ja0hlaWdodCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMubGlzdCkuZ2V0UHJvcGVydHlWYWx1ZSgnaGVpZ2h0JykpO1xyXG4gICAgICAgIGxldCBtaW47XHJcbiAgICAgICAgdGhpcy5taW5IZWlnaHQgPT09IHVuZGVmaW5lZCA/IG1pbiA9IDAgOiBtaW4gPSB0aGlzLm1pbkhlaWdodDtcclxuICAgICAgICBpZiAoYmxvY2tIZWlnaHQgPT09IG1pbil7XHJcbiAgICAgICAgICAgIHRoaXMuZml4SGVpZ2h0ID09PSB1bmRlZmluZWQgPyB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5saXN0LnNjcm9sbEhlaWdodH1weGAgOiB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5maXhIZWlnaHR9cHhgO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1idG5dJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLm1pbkhlaWdodCA9PT0gdW5kZWZpbmVkID8gdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9ICcwJyA6IHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLm1pbkhlaWdodH1weGA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcG9wdXBGdW5jOyB9KTtcbmNsYXNzIHBvcHVwRnVuYyB7XHJcbiAgICBjb25zdHJ1Y3RvcihidXR0b24scG9wdXAsd3JhcHBlciA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLmJ1dHRvbiA9IGJ1dHRvbjtcclxuICAgICAgICB0aGlzLnBvcHVwID0gcG9wdXA7XHJcbiAgICAgICAgdGhpcy53cmFwcGVyID0gd3JhcHBlcjtcclxuICAgICAgICB0aGlzLm9wZW5Qb3B1cEZ1bmMgPSB0aGlzLnByaXZhdGVPcGVuUG9wdXAuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNsb3NlUG9wdXBGdW5jID0gdGhpcy5wcml2YXRlQ2xvc2VQb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGlmKHRoaXMuYnV0dG9uLmRhdGFzZXQuc3RvcEV2ZW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5idXR0b24pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbi5mb3JFYWNoKGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Qb3B1cEZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUG9wdXBGdW5jKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnBvcHVwKSl7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZScpLmZvckVhY2goZWxlbSA9PiBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZVBvcHVwRnVuYykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZScpLmZvckVhY2goZWxlbSA9PiBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZVBvcHVwRnVuYykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGVPcGVuUG9wdXAoZXZlbnQpe1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5vcGVuUG9wdXAoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVDbG9zZVBvcHVwKGV2ZW50KXtcclxuICAgICAgICBpZiAoIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlJykpe1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnBvcHVwKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9wZW5Qb3B1cCgpe1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cC13cmFwcGVyPmRpdicpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwJykuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnBvcHVwKSl7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW0ucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucG9wdXApXHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd3cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA3NjgpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpO1xyXG4gICAgfVxyXG59XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTnVtYmVyVGltZXI7IH0pO1xuY2xhc3MgTnVtYmVyVGltZXIge1xyXG4gICAgY29uc3RydWN0b3Iob2JqZWN0KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gb2JqZWN0LmVsZW07XHJcbiAgICAgICAgdGhpcy5kZWxheSA9IHR5cGVvZiBvYmplY3QuZGVsYXkgPT09IFwidW5kZWZpbmVkXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAxMDAwIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRlbGF5O1xyXG4gICAgICAgIHRoaXMubWF4ID0gdHlwZW9mIG9iamVjdC5tYXggPT09IFwidW5kZWZpbmVkXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHRoaXMuZWxlbS5pbm5lclRleHQpIDpcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3QubWF4O1xyXG4gICAgICAgIHRoaXMubWluID0gdHlwZW9mIG9iamVjdC5taW4gPT09IFwidW5kZWZpbmVkXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgIDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5tYXg7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZW9mIG9iamVjdC50eXBlID09PSBcInVuZGVmaW5lZFwiID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnR5cGU7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcImVhc2Utb3V0XCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJlemllciA9IFswLDAsMC41OCwxXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5iZXppZXIgPSBbMF07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbGVtLmlubmVyVGV4dCA9IDA7XHJcbiAgICAgICAgdGhpcy5pdGVyYXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuc3RlcCA9IE1hdGgucm91bmQodGhpcy5kZWxheSAvICh0aGlzLm1heCAtIHRoaXMubWluKSk7XHJcbiAgICAgICAgdGhpcy5jdXJyQmV6aWVyID0gTWF0aC5mbG9vcih0aGlzLml0ZXJhdGlvbiAvICgodGhpcy5tYXggLSB0aGlzLm1pbikgLyB0aGlzLmJlemllci5sZW5ndGggKSk7XHJcbiAgICAgICAgdGhpcy5vZmZzZXRFbGVtID0gdGhpcy5vZmZzZXQodGhpcy5lbGVtKTtcclxuICAgICAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uRnVuYyA9IHRoaXMuc3RhcnRBbmltYXRpb24uYmluZCh0aGlzKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zdGFydEFuaW1hdGlvbkZ1bmMpO1xyXG4gICAgICAgIHRoaXMuc3RhcnQgPSBmYWxzZTtcclxuICAgICAgICBsZXQgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGFydCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0ZXAgPSBNYXRoLnJvdW5kKHRoaXMuZGVsYXkgLyAodGhpcy5tYXggLSB0aGlzLm1pbikpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyQmV6aWVyID0gTWF0aC5mbG9vcih0aGlzLml0ZXJhdGlvbiAvICgodGhpcy5tYXggLSB0aGlzLm1pbikgLyB0aGlzLmJlemllci5sZW5ndGggKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pdGVyYXRpb24gPCB0aGlzLm1heCAtIDEpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlcmF0aW9uKys7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtLmlubmVyVGV4dCA9IHRoaXMuaXRlcmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZXJhdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbS5pbm5lclRleHQgPSB0aGlzLml0ZXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcy5zdGVwICogKHRoaXMuYmV6aWVyW3RoaXMuY3VyckJlemllcl0gKyAxKSApO1xyXG4gICAgfVxyXG4gICAgb2Zmc2V0KGVsKXtcclxuICAgICAgICBsZXQgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgICAgICAgICBzY3JvbGxMZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LFxyXG4gICAgICAgICAgICBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgICAgICByZXR1cm4geyB0b3A6IHJlY3QudG9wICsgc2Nyb2xsVG9wLCBsZWZ0OiByZWN0LmxlZnQgKyBzY3JvbGxMZWZ0IH1cclxuICAgIH1cclxuICAgIHN0YXJ0QW5pbWF0aW9uKCl7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZICsgKHdpbmRvdy5zY3JlZW4uaGVpZ2h0IC8gMikgPj0gdGhpcy5vZmZzZXRFbGVtLnRvcCl7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zdGFydEFuaW1hdGlvbkZ1bmMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbl9fd2VicGFja19yZXF1aXJlX18oMCk7XG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX2hpZGVMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX051bWJlclRpbWVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX3BvcHVwRnVuY19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxyXG5cclxuXHJcblxyXG4vKiAgZml4ICovXHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyJykpe1xyXG4gICAgbGV0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlcicpO1xyXG4gICAgbGV0IGlzQmxhY2sgPSBoZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdibGFjaycpXHJcbiAgICBsZXQgc2Nyb2xsTnVtYmVyID0gNzA7XHJcbiAgICBsZXQgY29sb3JTd2l0Y2ggPSB0cnVlO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGhlYWRlci5jbGFzc0xpc3Rbd2luZG93LnNjcm9sbFkgPiBzY3JvbGxOdW1iZXIgPyAnYWRkJyA6ICdyZW1vdmUnXSgnc2Nyb2xsJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3Rbd2luZG93LnNjcm9sbFkgPiBzY3JvbGxOdW1iZXIgPyAnYWRkJyA6ICdyZW1vdmUnXSgnc2Nyb2xsJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1tZW51LXBvcHVwJykuY2xhc3NMaXN0W3dpbmRvdy5zY3JvbGxZID4gc2Nyb2xsTnVtYmVyID8gJ2FkZCcgOiAncmVtb3ZlJ10oJ3Njcm9sbCcpO1xyXG4gICAgICAgIGlmKCFpc0JsYWNrKXtcclxuICAgICAgICAgICAgaGVhZGVyLmNsYXNzTGlzdFt3aW5kb3cuc2Nyb2xsWSA+IHNjcm9sbE51bWJlciA/ICdhZGQnIDogJ3JlbW92ZSddKCdibGFjaycpO1xyXG4gICAgICAgICAgICBpZiAod2luZG93LnNjcm9sbFkgPiBzY3JvbGxOdW1iZXIpe1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbG9yU3dpdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3JTd2l0Y2ggPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlci5xdWVyeVNlbGVjdG9yQWxsKCcuYnVyZ2VyIGltZycpLmZvckVhY2goaW1nID0+IGltZy5jbGFzc0xpc3QudG9nZ2xlKCdzaG93JykpXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5sb2dvIGltZycpLmZvckVhY2goaW1nID0+IGltZy5jbGFzc0xpc3QudG9nZ2xlKCdzaG93JykpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghY29sb3JTd2l0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvclN3aXRjaCA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXIucXVlcnlTZWxlY3RvckFsbCgnLmJ1cmdlciBpbWcnKS5mb3JFYWNoKGltZyA9PiBpbWcuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpKVxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlci5xdWVyeVNlbGVjdG9yQWxsKCcubG9nbyBpbWcnKS5mb3JFYWNoKGltZyA9PiBpbWcuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aW5kb3cuc2Nyb2xsWSA+IHNjcm9sbE51bWJlcil7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1RvcCA9IGlzQmxhY2sgPyAnMTM3cHgnIDogJzk3cHgnXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nVG9wID0gJzBweCdcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG4vKiAgZml4ICovXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLm1haW4tc2xpZGVyJykpe1xyXG4gICAgbGV0IGFsbFNsaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5tYWluLXNsaWRlciAuc2xpZGUtbnVtYmVyIC5hbGwnKTtcclxuICAgIGFsbFNsaWRlLmlubmVyVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24ubWFpbi1zbGlkZXIgLnNsaWRlJykubGVuZ3RoO1xyXG5cclxuICAgIGxldCBzd2lwZXIgPSBuZXcgU3dpcGVyKCdzZWN0aW9uLm1haW4tc2xpZGVyIC5zbGlkZXInLCB7XHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgICAgICAgIGVsOiBcInNlY3Rpb24ubWFpbi1zbGlkZXIgLnVzZXItbWVudSAuZG90c1wiLFxyXG4gICAgICAgICAgICBjbGlja2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHJlbmRlckJ1bGxldDogZnVuY3Rpb24gKGluZGV4LCBjbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBgPGxpIGNsYXNzPVwiJHtjbGFzc05hbWV9XCI+PHNwYW4+PC9zcGFuPjwvbGk+YFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAwOiB7XHJcbiAgICAgICAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgNzY4OiB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb246IHtcclxuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKHN3aXBlcikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRTbGlkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ubWFpbi1zbGlkZXIgLnNsaWRlLW51bWJlciAuY3VycmVudCcpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFNsaWRlLmlubmVyVGV4dCA9IHN3aXBlci5yZWFsSW5kZXggKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBzd2lwZXIub24oJ3NsaWRlQ2hhbmdlJywgZnVuY3Rpb24gKHN3aXBlcikge1xyXG4gICAgICAgIGxldCBjdXJyZW50U2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLm1haW4tc2xpZGVyIC5zbGlkZS1udW1iZXIgLmN1cnJlbnQnKTtcclxuICAgICAgICBjdXJyZW50U2xpZGUuaW5uZXJUZXh0ID0gc3dpcGVyLnJlYWxJbmRleCArIDE7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgZ29Eb3duQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5tYWluLXNsaWRlciAuZ28tZG93bicpO1xyXG4gICAgZ29Eb3duQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpO1xyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5jZXJ0aWZpY2F0ZXMtc2xpZGVyJykpe1xyXG4gICAgbGV0IHN3aXBlciA9IG5ldyBTd2lwZXIoJ3NlY3Rpb24uY2VydGlmaWNhdGVzLXNsaWRlciAuc2xpZGVyJywge1xyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogNjAsXHJcbiAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICBuZXh0RWw6IFwic2VjdGlvbi5jZXJ0aWZpY2F0ZXMtc2xpZGVyIC5uYXZpZ2F0aW9uIC5uZXh0XCIsXHJcbiAgICAgICAgICAgIHByZXZFbDogXCJzZWN0aW9uLmNlcnRpZmljYXRlcy1zbGlkZXIgLm5hdmlnYXRpb24gLnByZXZcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgIDA6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgNjgxOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ubWFpbi12aWRlbycpKXtcclxuICAgIGxldCB2aWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ubWFpbi12aWRlbyB2aWRlbycpO1xyXG4gICAgbGV0IHByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLm1haW4tdmlkZW8gLnByZXZpZXcnKTtcclxuXHJcbiAgICBwcmV2aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHByZXZpZXcuY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xyXG4gICAgICAgIHZpZGVvLnBsYXkoKVxyXG4gICAgfSk7XHJcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwcmV2aWV3LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcclxuICAgICAgICB2aWRlby5wYXVzZSgpXHJcbiAgICB9KVxyXG59XHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5xdWVzdGlvbnMtZ3JpZCcpKXtcclxuICAgIGxldCBzZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5xdWVzdGlvbnMtZ3JpZCcpO1xyXG4gICAgbGV0IGdyaWQgPSBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5ncmlkJyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKyl7XHJcbiAgICAgICAgbGV0IGJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgYmxvY2suY2xhc3NMaXN0LmFkZCgnYmxvY2snKTtcclxuICAgICAgICBncmlkLmFwcGVuZENoaWxkKGJsb2NrKTtcclxuICAgIH1cclxuICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnLmVsZW0nKS5mb3JFYWNoKCAoZWxlbSwgaSkgPT4ge1xyXG4gICAgICAgIFsuLi5ncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ibG9jaycpXVtpICUgMl0uYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICAgICAgaWYgKHNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdxdWVzdGlvbnMnKSkge1xyXG4gICAgICAgICAgICBuZXcgX2NvbXBvbmVudHNfaGlkZUxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0oZWxlbSlcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnBhcnRuZXJzJykpe1xyXG4gICAgbGV0IHN3aXBlciA9IG5ldyBTd2lwZXIoJ3NlY3Rpb24ucGFydG5lcnMgLnNsaWRlcicsIHtcclxuICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAwOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAxLjUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDQyMToge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMi41LFxyXG4gICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA3Njg6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMuNVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAxMDAxOiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LjVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgMTM2Njoge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNS41XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDE1NjY6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDUuNSxcclxuICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogNjAsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5zZW8tdGV4dCcpKXtcclxuICAgIGxldCB0ZXh0V3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uc2VvLXRleHQgLnRleHQtd3JhcHBlcicpO1xyXG4gICAgbGV0IHRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnNlby10ZXh0IC50ZXh0Jyk7XHJcbiAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA+IDEwMjQpe1xyXG4gICAgICAgIGlmICh0ZXh0LnNjcm9sbEhlaWdodCA8PSAxNzUpIHtcclxuICAgICAgICAgICAgdGV4dFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbm8tc2Nyb2xsJylcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPiA2ODEpe1xyXG4gICAgICAgIGlmICh0ZXh0LnNjcm9sbEhlaWdodCA8PSAyNTApIHtcclxuICAgICAgICAgICAgdGV4dFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbm8tc2Nyb2xsJylcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh0ZXh0LnNjcm9sbEhlaWdodCA8PSAzMjApIHtcclxuICAgICAgICAgICAgdGV4dFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbm8tc2Nyb2xsJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB0ZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgY3VyclBvcyA9IHRleHQuc2Nyb2xsSGVpZ2h0IC0gdGV4dC5vZmZzZXRIZWlnaHQgLSB0ZXh0LnNjcm9sbFRvcDtcclxuICAgICAgICB0ZXh0V3JhcHBlci5jbGFzc0xpc3RbY3VyclBvcyA8IDIwID8gJ2FkZCcgOiAncmVtb3ZlJ10oJ25vLWZhZGUnKVxyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcG9wdXBdJykpe1xyXG5cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBvcHVwXScpLmZvckVhY2goIGVsZW0gPT57XHJcbiAgICAgICAgbmV3IF9jb21wb25lbnRzX3BvcHVwRnVuY19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fW1wiZGVmYXVsdFwiXShlbGVtLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucG9wdXAuJHtlbGVtLmRhdGFzZXQucG9wdXB9YCkpXHJcbiAgICB9KVxyXG59XHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5wcm9qZWN0LWltYWdlcycpKXtcclxuICAgIGxldCBhbGxJbWFnZXNTbGlkZXIgPSBuZXcgU3dpcGVyKCdzZWN0aW9uLnByb2plY3QtaW1hZ2VzIC5hbGwtaW1hZ2VzJywge1xyXG4gICAgICAgIGZyZWVNb2RlOiB0cnVlLFxyXG4gICAgICAgIHdhdGNoU2xpZGVzVmlzaWJpbGl0eTogdHJ1ZSxcclxuICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxyXG4gICAgICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgICAgICAgIDA6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJTY3JvbGw6IDMsXHJcbiAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDEwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA3Njg6IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMuNSxcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclNjcm9sbDogMyxcclxuICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDEwMDE6IHtcclxuICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA1LFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyU2Nyb2xsOiA1LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAxMzY2OiB7XHJcbiAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDQwLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNS43NSxcclxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclNjcm9sbDogNSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgbGV0IG1haW5JbWFnZVNsaWRlciA9IG5ldyBTd2lwZXIoJ3NlY3Rpb24ucHJvamVjdC1pbWFnZXMgLm1haW4taW1hZ2UnLCB7XHJcbiAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgIG5leHRFbDogJ3NlY3Rpb24ucHJvamVjdC1pbWFnZXMgLm1haW4taW1hZ2UgLm5leHQnLFxyXG4gICAgICAgICAgICBwcmV2RWw6ICdzZWN0aW9uLnByb2plY3QtaW1hZ2VzIC5tYWluLWltYWdlIC5wcmV2JyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRodW1iczoge1xyXG4gICAgICAgICAgICBzd2lwZXI6IGFsbEltYWdlc1NsaWRlclxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ueWVhci1zbGlkZXInKSl7XHJcbiAgICBsZXQgeWVhcnNTbGlkZXIgPSBuZXcgU3dpcGVyKCdzZWN0aW9uLnllYXItc2xpZGVyIC55ZWFycyAueWVhcicsIHtcclxuICAgICAgICBhbGxvd1RvdWNoTW92ZTogZmFsc2UsXHJcbiAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICBuZXh0RWw6IFwic2VjdGlvbi55ZWFyLXNsaWRlciAubmF2aWdhdGlvbiAubmV4dFwiLFxyXG4gICAgICAgICAgICBwcmV2RWw6IFwic2VjdGlvbi55ZWFyLXNsaWRlciAubmF2aWdhdGlvbiAucHJldlwiLFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgbGV0IGRhdGFTbGlkZXIgPSBuZXcgU3dpcGVyKCdzZWN0aW9uLnllYXItc2xpZGVyIC5kYXRhLXNsaWRlcicsIHtcclxuICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgIG5leHRFbDogJ3NlY3Rpb24ueWVhci1zbGlkZXIgLm5hdmlnYXRpb24gLm5leHQnLFxyXG4gICAgICAgICAgICBwcmV2RWw6ICdzZWN0aW9uLnllYXItc2xpZGVyIC5uYXZpZ2F0aW9uIC5wcmV2JyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uOiB7XHJcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4Q2hhbmdlKCl7XHJcbiAgICAgICAgICAgICAgICB5ZWFyc1NsaWRlci5zbGlkZVRvKGRhdGFTbGlkZXIuYWN0aXZlSW5kZXgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmFjYWRlbXktcmV2aWV3cycpKXtcclxuICAgIGxldCBzbGlkZXIgPSBuZXcgU3dpcGVyKCdzZWN0aW9uLmFjYWRlbXktcmV2aWV3cyAuc2xpZGVyJywge1xyXG4gICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgbmV4dEVsOiBcInNlY3Rpb24uYWNhZGVteS1yZXZpZXdzIC5uYXZpZ2F0aW9uIC5uZXh0XCIsXHJcbiAgICAgICAgICAgIHByZXZFbDogXCJzZWN0aW9uLmFjYWRlbXktcmV2aWV3cyAubmF2aWdhdGlvbiAucHJldlwiLFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ud2hvLW5lZWQtYjJiJykpe1xyXG4gICAgbGV0IHRhYkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLndoby1uZWVkLWIyYiAudGFiLWJ1dHRvbnMgW2RhdGEtdGFiXScpO1xyXG4gICAgbGV0IHRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLndoby1uZWVkLWIyYiAudGFicyBbZGF0YS10YWJdJyk7XHJcbiAgICB0YWJCdG5zLmZvckVhY2goIChlbGVtKSA9PiB7XHJcbiAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGFiQnRucy5mb3JFYWNoKCBidG4gPT4gYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuICAgICAgICAgICAgdGFicy5mb3JFYWNoKCB0YWIgPT4gdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuXHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIFsuLi50YWJzXS5maW5kKCB0YWIgPT4gdGFiLmRhdGFzZXQudGFiID09PSBlbGVtLmRhdGFzZXQudGFiKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmIyYi1yZWFsaXphdGlvbicpKSB7XHJcbiAgICBsZXQgc2xpZGVyID0gbmV3IFN3aXBlcignc2VjdGlvbi5iMmItcmVhbGl6YXRpb24gLnNsaWRlcicse1xyXG4gICAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICAgICAgZWw6ICdzZWN0aW9uLmIyYi1yZWFsaXphdGlvbiAuc2xpZGVyLXBhZ2luYXRpb24nLFxyXG4gICAgICAgICAgICBjbGlja2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHJlbmRlckJ1bGxldChpbmRleCwgY2xhc3NOYW1lKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBgPHNwYW4gY2xhc3M9XCIke2NsYXNzTmFtZX1cIj4ke2luZGV4ICsgMX08L3NwYW4+YFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgIG5leHRFbDogXCJzZWN0aW9uLmIyYi1yZWFsaXphdGlvbiAuc2xpZGVyLW5hdmlnYXRpb24gLm5leHRcIixcclxuICAgICAgICAgICAgcHJldkVsOiBcInNlY3Rpb24uYjJiLXJlYWxpemF0aW9uIC5zbGlkZXItbmF2aWdhdGlvbiAucHJldlwiLFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pOyJdLCJmaWxlIjoibWFpbi1taW4uanMifQ==
